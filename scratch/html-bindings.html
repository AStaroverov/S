<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>K.DOM scratch examples</title>
    <script type="text/javascript" src="../js/K.js"></script>
    <script type="text/javascript" src="../js/K.DOM.js"></script>
    <script type="text/javascript" src="../js/K.DOM.template.js"></script>
    <script type="text/javascript" src="../js/K.DOM.src.js"></script>
</head>
<body>
    <form id="form" method="get" action="html-bindings.html">
        <input id="text" name="text" type="text" value="text" />
        <input id="radio" name="radio" type="radio" value="radio" />
        <input id="checkbox" name="checkbox" type="checkbox" value="checkbox" />
        <textarea id="textarea" name="textarea">textarea</textarea>
        <select id="select" name="select">
            <option>one</option>
            <option>two</option>
        </select>
        <input id="button" type="submit" name="submit" value="Submit" />
    </form>

    <ul>
        <!-- {{each item}} -->
            <li class="item {{classes}}">
                <input name="{{name}}" />
                <button type="button" onclick="{{remove}}"><i class="icon-remove-circle"></i></button>
            </li>
        <!-- {{/each}} -->
    </ul>

    <script id="foo" data-param="items" type="text/html">
        <ul>
            @items.map((item) =>
                <li class="item @item.classes">
                    <input value="@item.name" />
                    <button type="button" onclick="@item.remove"><i class="icon-remove-circle"></i></button>
                    @item.costs
                </li>
            )
        </ul>
    </script>

    <script type="text/foo">

    var view = eval(K.DOM.src(
    'function (items) {\n' +
    '   return\n' +
    '       <ul>\n' +
    '           @items.map((item) =>\n' +
    '                <li class="item @item.classes">\n' +
    '                   <input value="@item.name" />\n' +
    '                   <button type="button" onclick="@item.remove"><i class="icon-remove-circle"></i></button>\n' +
    '                   @item.costs\n' +
    '               </li>\n' +
    '           )\n' +
    '       </ul>;\n' +
    '}'
    ));

    var view = eval(K.DOM.src('\
        function (items) {     \
           return              \
               <ul>            \
                   @items.map((item) => \
                        <li class="item @item.classes"> \
                           <input value="@item.name" /> \
                           <button type="button" onclick="@item.remove"><i class="icon-remove-circle"></i></button> \
                           @item.costs \
                       </li>  \
                   )          \
               </ul>;         \
        }                     \
    '));

    var view = eval(K.DOM.src(
    '(items) =>\n' +
    '   <ul>\n' +
    '       @items.map((item) =>\n' +
    '            <li class="item @item.classes">\n' +
    '               <input value="@item.name" />\n' +
    '               <button type="button" onclick="@item.remove"><i class="icon-remove-circle"></i></button>\n' +
    '               @item.costs\n' +
    '           </li>\n' +
    '       )\n' +
    '   </ul>' +
    ));

    function view(items) { return (
        <ul>
            @items.map((item) =>
                <li class="item @item.classes">
                    <input value="@item.name" />
                    <button type="button" onclick="@item.remove"><i class="icon-remove-circle"></i></button>
                    @item.costs
                </li>
            )
        </ul>;
    )}

    var view = (items) =>
       <ul>
           @items.map((item) =>
                <li class="item @item.classes">
                   <input value="@item.name" />
                   <button type="button" onclick="@item.remove"><i class="icon-remove-circle"></i></button>
                   @item.costs
               </li>
           )
       </ul>;

    "use strict";
    var __tmpl_ul_34 = K.DOM.template(
            '\n' +
            '        <ul>\n' +
            '        </ul>\n' +
            '    ',
            [{ path: [1, 0], splits: ['\n        ', '\n        '] }],
            [{ path: [1, 1], type: 'node' }]
        ),
        __tmpl_li_class_item_35 = K.DOM.template(
            '\n' +
            '                <li class="item ">\n' +
            '                    <input />\n' +
            '                    <button type="button"><i class="icon-remove-circle"></i></button>\n' +
            '                    \n' +
            '                </li>',
            [{ path: [1, 4], split: ['\n                    ', '\n                '] }],
            [{ path: [1], type: 'attr', name: 'class' }]
        );
    __tmpl_ul_34([
        function () { return items.map(function (item) {
            return __tmpl_li_class_item_35([
                function () { return item.classes; },
                function () { return item.name; },
                function () { return item.remove; }
            ]);
        }
    ]);

    "use strict";
    var __tmpl_ul_34 = K.DOM.template(
            '\n' +
            '        <ul>\n' +
            '        </ul>\n' +
            '    ',
            [{ path: [1, 0], splits: ['\n        ', '\n        '] }],
            [{ path: [1, 1], type: 'node' }]
        ),
        __tmpl_li_class_item_35 = K.DOM.template(
            '\n' +
            '                <li class="item ">\n' +
            '                    <input />\n' +
            '                    <button type="button"><i class="icon-remove-circle"></i></button>\n' +
            '                    \n' +
            '                </li>',
            [{ path: [1, 4], split: ['\n                    ', '\n                '] }],
            [{ path: [1], type: 'attr', name: 'class' }]
        );
    __tmpl_ul_34([
        () => items.map((item) =>
            __tmpl_li_class_item_35([
                () => item.classes,
                () => item.name,
                () => item.remove
            ]);
    ]);

    </script>

    <button type="button" onclick="{{addItem}}"><i class="icon-add-circle"></i> Add Item</button>

    <script type="text/javascript">
        var form = document.getElementById('form'),
            text = document.getElementById('text'),
            radio = document.getElementById('radio'),
            checkbox = document.getElementById('checkbox'),
            textarea = document.getElementById('textarea'),
            select = document.getElementById('select'),
            submit = document.getElementById('button'),
            tmpl = document.getElementById('foo').innerText,
            tmpl64k = tmpl;

            tmpl64k = tmpl64k + tmpl64k + tmpl64k + tmpl64k; // 4
            tmpl64k = tmpl64k + tmpl64k + tmpl64k + tmpl64k; // 16
            tmpl64k = tmpl64k + tmpl64k + tmpl64k + tmpl64k; // 64
            tmpl64k = tmpl64k + tmpl64k + tmpl64k + tmpl64k; // 256
            tmpl64k = tmpl64k + tmpl64k + tmpl64k + tmpl64k; // 1024
            tmpl64k = tmpl64k + tmpl64k + tmpl64k + tmpl64k; // 4k
            tmpl64k = tmpl64k + tmpl64k + tmpl64k + tmpl64k; // 16k
            tmpl64k = tmpl64k + tmpl64k + tmpl64k + tmpl64k; // 64k
    </script>
</body>
</html>
